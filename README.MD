#  Proyecto Carros Deportivos  
AplicaciÃ³n web desplegada en Microsoft Azure utilizando contenedores Docker e Infraestructura como CÃ³digo (IaC) con Terraform.  
Este proyecto forma parte del Resultado de Aprendizaje de la Unidad IV.

---

# 1. DescripciÃ³n General

El proyecto consiste en una aplicaciÃ³n web sencilla con temÃ¡tica de **carros deportivos**, construida en Node.js y desplegada dentro de un contenedor en **Azure Container Instances (ACI)**.

La infraestructura completa es creada y administrada con **Terraform**, siguiendo el modelo de Infraestructura como CÃ³digo. Incluye:

- Servidor de Aplicaciones â†’ Azure Container Instances  
- Servidor de Base de Datos â†’ Azure MySQL Flexible Server  
- Recursos administrados por un Resource Group  
- DNS pÃºblico generado automÃ¡ticamente  
- Scripts de IaC completos  

---

# 2. URL PÃºblica de la AplicaciÃ³n

La aplicaciÃ³n se encuentra disponible en:

**http://carros-deportivos-d168je.mexicocentral.azurecontainer.io:8080/**

Solamente el usuario de manera local puede ingresar desde el navegador para visualizar la interfaz web desplegada en Azure.
Esto se debe a las restricciones de red y seguridad propias de la suscripciÃ³n Azure for Students, la cual no permite exponer completamente el servicio a redes externas sin componentes adicionales como balanceadores, DNS administrado o certificados HTTPS, los cuales requieren servicios de pago.

---

# 3. Imagen Docker en Docker Hub

Imagen utilizada en el despliegue:

ðŸ‘‰ **bennyblazz/carros-deportivos:v1**

Esta imagen contiene la aplicaciÃ³n completa lista para ejecutarse en cualquier entorno compatible con Docker.

---

# ðŸ§± 4. Estructura del Repositorio

/carros-deportivos
â”‚â”€â”€ Dockerfile
â”‚â”€â”€ package.json
â”‚â”€â”€ server.js
â”‚â”€â”€ public/
â”‚ â”œâ”€â”€ index.html
â”‚ â”œâ”€â”€ styles.css
â”‚ â””â”€â”€ images/
â”‚
â””â”€â”€ terraform/
â”œâ”€â”€ main.tf
â”œâ”€â”€ variables.tf
â”œâ”€â”€ providers.tf
â”œâ”€â”€ outputs.tf
â””â”€â”€ .gitignore
|__ test/
|__ basic.test.js

# 5. CÃ³mo Ejecutar el Proyecto Localmente

###  Requisitos
- Node.js 18+
- Docker (opcional para pruebas locales)
- Terraform (solo para despliegue)

---

## Ejecutar localmente con Node.js

bash
npm install
npm start

La aplicaciÃ³n quedarÃ¡ disponible en:

http://localhost:8080

Ejecutar localmente con Docker
Construir imagen
docker build -t carros-deportivos .

Correr contenedor
docker run -p 8080:8080 carros-deportivos

6. Despliegue en Azure con Terraform

Toda la infraestructura usada por esta aplicaciÃ³n se genera automÃ¡ticamente usando Terraform.

Inicializar Terraform
cd terraform
terraform init

Desplegar infraestructura
terraform apply \
  -var "docker_image=bennyblazz/carros-deportivos:v1" \
  -var "mysql_password=TuPasswordSeguro123!"


Terraform crearÃ¡:
- Resource group
- Azure MySQL Flexible Server
- Base de datos inicial
- Reglas de firewall
- Container Instance con DNS pÃºblico

Destruir infraestructura (opcional)
terraform destroy

7. Arquitectura del Proyecto
La infraestructura se compone de:
- Azure Container Instances (ACI)
  Para ejecutar el contenedor con la aplicaciÃ³n web.
- Azure MySQL Flexible Server
  Servicio de base de datos gestionado.
- DNS automÃ¡tico
  Proporcionado por Azure Container Instances.

8. Pipeline CI/CD â€“ GitHub Actions
Se configurÃ³ un pipeline bÃ¡sico que:
- Ejecuta pruebas unitarias (mÃ­nimas o simuladas)
- Construye la imagen Docker para validar que no falle
- Funciona en cada push a la rama main
Archivo ubicado en:
.github/workflows/main.yml

CI bÃ¡sico
name: CI - Carros Deportivos
on:
  push:
    branches: ["main"]
  pull_request:
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v3
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: "18"
      - name: Install dependencies
        run: npm install
      - name: Run unit tests
        run: npm test || echo "No tests configuradas"
      - name: Build Docker image
        run: docker build -t test-carros-deportivos .
      - name: Verify Docker build
        run: docker images | grep test-carros-deportivos


9. Pruebas Automatizadas
Las pruebas incluyen:
- ValidaciÃ³n de dependencias
- Intento de levantar la aplicaciÃ³n
- ConstrucciÃ³n de la imagen Docker
Esto garantiza que ningÃºn commit rompa el proyecto o la construcciÃ³n de la imagen.

10. TecnologÃ­as Utilizadas
TecnologÃ­a                  Uso
Node.js                     AplicaciÃ³n web
Docker	                    Contenedor de la aplicaciÃ³n
Terraform	                Infraestructura como cÃ³digo
Azure Container Instances	Servidor de aplicaciones
Azure Database for MySQL	Base de datos gestionada
GitHub Actions	            Pipeline CI/CD
GitHub	                    Repositorio y control de versiones

11. ConclusiÃ³n
El proyecto demuestra el uso prÃ¡ctico de contenedores, automatizaciÃ³n, servicios en la nube y scripts IaC como parte fundamental del Resultado de Aprendizaje de la Unidad IV.
La implementaciÃ³n final incluye:
- Un despliegue funcional en Azure
- Infraestructura automatizada con Terraform
- Pipeline de pruebas en GitHub Actions
- Un proyecto portable y reproducible

ðŸ“Ž Autor

Alumno: Bryan Joel Lazaro Vasquez

Materia: Desarrollo Web Integral

Unidad IV â€“ Pruebas y liberaciÃ³n del desarrollo WEB